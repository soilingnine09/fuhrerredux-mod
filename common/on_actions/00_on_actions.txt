on_actions = {

	# Ace pilots
	# country, FROM = ace
	on_ace_promoted = {
		random_events = {
			100 = ace_promoted.1
			5 = ace_promoted.2
		}
	}

	# country, FROM = ace, PREV = enemy ace 
	# This event fires twice, once for each ace.
	on_aces_killed_each_other = {
		random_events = {
			100 = aces_killed_each_other.1
		}
	}
	
	# country, FROM = our ace, 
	# PREV = enemy ace, has killed FROM
	on_ace_killed_by_ace = {
		random_events = {
			100 = ace_killed_by_ace.1
		}
	}

	# country, FROM = our ace, 
	# PREV = enemy ace, killed by FROM
	on_ace_killed_other_ace = {
		random_events = {
			100 = ace_killed_other_ace.1
		}
	}

	# our ace is killed by no name
	# country, FROM = ace
	on_ace_killed = {
		random_events = {
			100 = ace_died.1
		}
	}
	
	# our ace died in accident
	# country, FROM = ace
	on_ace_killed_on_accident = {
	
	}
	
	# enemy ace is killed by our non name
	# country, FROM = enemy ace
	on_non_ace_killed_other_ace = {
	
	}

	# During justifying wargoals
	# triggered daily, so make sure there is a sink somewhere not firing events
	# country, FROM = target nation
	on_justifying_wargoal_pulse = {
		
	}

	on_wargoal_expire = {
		random_events = {
			100 = war_justification.301
		}
	}

	#FROM is state #ROOT is broken as hell
	#on_nuke_drop = {

#		effect = {
#			news_event = { id = nuke_dropped.2 days = 1}
#			news_event = { id = nuke_dropped.3 days = 1}
#			news_event = { id = nuke_dropped.4 days = 1}
#			news_event = { id = nuke_dropped.5 days = 1}
#			news_event = { id = nuke_dropped.6 days = 1}
#			news_event = { id = nuke_dropped.7 days = 1}
#			news_event = { id = nuke_dropped.8 days = 1}
#			news_event = { id = nuke_dropped.9 days = 1}
#			news_event = { id = nuke_dropped.10 days = 1}
#			news_event = { id = nuke_dropped.11 days = 1}
#			news_event = { id = nuke_dropped.12 days = 1}
#			news_event = { id = nuke_dropped.13 days = 1}
#			news_event = { id = nuke_dropped.14 days = 1}
#			news_event = { id = nuke_dropped.15 days = 1}
#		}
#		random_events = {
#			100 = nuke_dropped.0
#		}
#	}

	# country random events
	#on_bi_yearly_pulse = {
	#
	#}

	#on_five_year_pulse = {
	#
	#}

	on_border_war_lost = {

	}

	on_leave_faction = {
		effect = {
			FROM = {
				add_opinion_modifier = {
					modifier = faction_traitor
					target = ROOT
					days = 365
				}

				add_opinion_modifier = {
					modifier = faction_traitor_trade
					target = ROOT
					days = 365
				}
			}
		}
	}

	#PREV is the one that joins the faction
	on_create_faction = {

	}

	#PREV is country getting invited.
	on_offer_join_faction = {

	}

	#PREV is faction leader on join faction requests.
	on_join_faction = {

	}

	#PREV is war target
	on_declare_war = {
		effect = {
			FROM = { set_country_flag = had_war }
			ROOT = { set_country_flag = had_war }
		}
	}

	# When a new faction is formed
	on_faction_formed = {

	}

	# ROOT is capitulated country, FROM is winner
	on_capitulation = {
		effect = {

			news_event = { id = country_capitulated.0 days = 0 }

		}




	}

	on_government_change = {
		effect = {
			if = {
				limit = {
					JAP = {
						has_government = paternal_autocrat 
						has_country_flag = JAP_Shogunate_flag
					}
				}
				JAP = { set_cosmetic_tag = JAP_Shogunate_paternal_autocrat }
			}
			if = {
				limit = {
					JAP = {
						has_government = authoritarian_democrat 
						has_country_flag = JAP_Shogunate_flag
					}
				}
				JAP = { set_cosmetic_tag = JAP_Shogunate_authoritarian_democrat }
			}
			if = {
				limit = {
					JAP = {
						has_government = national_populist 
						has_country_flag = JAP_Shogunate_flag
					}
				}
				JAP = { set_cosmetic_tag = JAP_Shogunate_national_populist }
			}
		}
	}
	
	on_state_control_changed = {
		effect = {
			if = {
				limit = {
					FROM = {
						tag = JPR 
						has_war_with = JAP 
					}
					FROM.FROM = { 
						AND = {
							state = 531
							state = 529
							state = 528
						} 
						controller = {
							tag = JAP 
						}
					}
				}
				JPR = {
					add_stability = -100
					add_war_support = -100
					add_ideas = JPR_surrender_to_tokyo
				}
			}
			if = {
				limit = {
					FROM = {
						tag = JAP 
						has_war_with = JPR 
					}
					FROM.FROM = { 
						AND = {
							state = 532
							state = 282
							state = 533
						} 
						controller = {
							tag = JPR 
						}
					}
				}
				JAP = {
					add_ideas = JPR_surrender_to_tokyo
				}
			}
		}
	}
	on_capitulation = {
		effect = {
			if = {
				limit = {
					ROOT = {
						original_tag = JPR
					}
					FROM = {
						original_tag = JAP
					}
				}
				FROM = {
					white_peace = ROOT
					annex_country = {
						target = ROOT 
						transfer_troops = no 
					}
					every_owned_state = {
						limit = {
							is_claimed_by = PREV 
						}
						JAP = { add_state_core = PREV }
						remove_core_of = JPR
					}
					country_lock_all_division_template = no 
					set_country_flag = JAP_Shogun_Win
				}
			}
			if = {
				limit = {
					ROOT = {
						original_tag = JAP
					}
					FROM = {
						original_tag = JPR
					}
				}
				FROM = {
					white_peace = ROOT
					JAP = { country_event = jap_shogun.7 }
				}
			}
		}
	}
	on_coup_succeeded = {

	}

	#ROOT is winner #FROM gets annexed
	on_civil_war_end = {

	}

		#ROOT is winner #FROM gets annexed - For civil wars on_civil_war_end is also fired
	on_annex = {
		effect = {

		}
	}

	#Not run on a specific country.
	on_startup = {
		effect = {

		}
	}
	
	# During justifying wargoals
	# triggered daily, so make sure there is a sink somewhere not firing events
	# country, FROM = target nation
#	on_justifying_wargoal_pulse = {
#
	#	if = {
	#		limit = {
	#			GER = {
	#				NOT = {
	#					has_war_with = FRA
	#				}
	#			}
	#		}
	#		GER = {
	#			country_event = ger.228
	#		}
	#	}
	#}
}
